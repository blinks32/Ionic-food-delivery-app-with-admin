{"version":3,"sources":["../../src/pages/addphotoinfo/addphotoinfo.module.ts","../../src/pages/addphotoinfo/addphotoinfo.ts"],"names":[],"mappings":"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","file":"23.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { AddphotoinfoPage } from './addphotoinfo';\r\n@NgModule({\r\n\tdeclarations: [\r\n\t\tAddphotoinfoPage\r\n\t],\r\n\timports: [\r\n\t\tIonicPageModule.forChild(AddphotoinfoPage)\r\n\t],\r\n\tentryComponents: [\r\n\t\tAddphotoinfoPage\r\n\t]\r\n})\r\nexport class AddphotoinfoPageModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addphotoinfo/addphotoinfo.module.ts","import { Component } from '@angular/core';\nimport { \n  NavController, \n  Loading,\n  LoadingController,\n  ActionSheetController\n  } from 'ionic-angular';\nimport { ProfileProvider } from '../../providers/profile/profile';\nimport { Camera, CameraOptions } from '@ionic-native/camera';\nimport { PopUpProvider } from '../../providers/pop-up/pop-up';\nimport * as firebase from 'firebase/app';\nimport { IonicPage } from 'ionic-angular';\nimport {Headers} from '@angular/http';\nimport {Http, Request, RequestMethod} from \"@angular/http\";\nimport { SettingsProvider } from '../../providers/settings/settings';\nimport { LanguageProvider } from '../../providers/language/language';\n@IonicPage()\n/**\n * Generated class for the AddphotoinfoPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@Component({\n  selector: 'page-addphotoinfo',\n  templateUrl: 'addphotoinfo.html',\n})\nexport class AddphotoinfoPage {\n  public completed: boolean = false;\n  captureDataUrl: string;\n  captureDataUrl2: string;\n  captureDataUrl3: string;\n  loading: Loading;\n  profileUploaded: boolean = false;\n  licenceUploaded: boolean = false;\n  NidUploaded: boolean = false;\n  http: Http;\n  constructor(public navCtrl: NavController, http:Http, public lp: LanguageProvider, public settings: SettingsProvider, public actionSheetCtrl: ActionSheetController, public pop: PopUpProvider,  public ph: ProfileProvider, public camera: Camera, public loadingCtrl: LoadingController,) {\n    this.http = http;\n  }\n  \n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AddphotoinfoPage');\n   // this.pop.hideLoader()\n  }\n\n\n  Next(){\n    if (this.licenceUploaded){\n     \n      //this.send(this.lp.translate()[0].b3, this.lp.translate()[0].b4 + this.settings.appDashboard, 'chndth@gmail.com')\n    } \n   \n  else{\n    this.pop.showAlertNormal(this.lp.translate()[0].b5, \"\", false)\n  }\n     \n  }\n\n\n\n\n\n\n\n\n\n      choosePic_2() {\n        let actionSheet = this.actionSheetCtrl.create({\n          title: this.lp.translate()[0].b6,\n          buttons: [\n           {\n              text: this.lp.translate()[0].b8,\n              icon: 'ios-folder',\n              handler: () => {\n               this.capture2FromFile()\n              }\n            },{\n              text: this.lp.translate()[0].b9,\n              icon: 'close',\n              role: 'cancel',\n              handler: () => {\n                console.log('Cancel clicked');\n              }\n            }\n          ]\n        });\n        actionSheet.present();\n      }\n      \n\n\n\n\n\n\n\n  capture2() {\n    \n    const options: CameraOptions = {\n      quality: 40,\n      targetWidth: 300,\n      targetHeight: 200,\n      sourceType: this.camera.PictureSourceType.CAMERA,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n    }\n    \n    this.camera.getPicture(options).then((imageData) => {\n      this.captureDataUrl2 = 'data:image/jpeg;base64,' + imageData;\n\n    \n       this.processLicensePicture(this.captureDataUrl2)\n      \n     \n    }, (err) => {\n      // Handle error\n    });\n  }\n\n\n  capture2FromFile() {\n\n    const options: CameraOptions = {\n      quality: 40,\n      targetWidth: 300,\n      targetHeight: 200,\n      sourceType: this.camera.PictureSourceType.PHOTOLIBRARY,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      encodingType: this.camera.EncodingType.JPEG,\n      mediaType: this.camera.MediaType.PICTURE,\n    }\n    \n   \n       \n        this.camera.getPicture(options).then((imageData) => {\n          this.captureDataUrl2 = 'data:image/jpeg;base64,' + imageData;\n          \n          this.processLicensePicture(this.captureDataUrl2)\n         \n        })\n      }\n\n\n\n\n  processLicensePicture(captureData) {\n    let storageRef = firebase.storage().ref();\n    // Create a timestamp as filename\n    const filename = Math.floor(Date.now() / 1000);\n    this.loading = this.loadingCtrl.create();\n    this.loading.present();\n    // Create a reference to 'images/todays-date.jpg'\n    const imageRef = storageRef.child(`driverPictures/${filename}.jpg`);\n   \n    imageRef.putString(captureData, firebase.storage.StringFormat.DATA_URL).then((snapshot)=> {\n      imageRef.getDownloadURL().then(url =>{\n       this.ph.UpdateLPhotoInfo(url).then( success =>{\n        this.loading.dismiss()\n        this.navCtrl.setRoot('Addphoto2Page');\n        \n        }).catch( error =>{ this.pop.alertMe('Check Your Internet Connection and try again')});\n      }).catch( error =>{ this.pop.alertMe('Check Your Internet Connection and try again')});\n    }).catch( error =>{ this.pop.alertMe('Check Your Internet Connection and try again')});\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addphotoinfo/addphotoinfo.ts"],"sourceRoot":""}